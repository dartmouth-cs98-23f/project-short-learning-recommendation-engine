second,duration,transcript
0.0,3.76,give a man a computer and frustrate him
2.639,3.601,forever
3.76,5.28,teach a man how to go and frustrate him
6.24,2.8,for a lifetime
9.8,6.36,[Applause]
13.84,4.32,welcome to design strong in this video
16.16,6.32,today we will ensure that
18.16,4.32,you are not frustrated with design
23.519,3.68,we are going to do a mock interview
25.76,3.839,regarding one of the
27.199,4.32,data schema designs so data something by
29.599,3.601,design basically is about you know
31.519,3.04,understanding the requirement from a
33.2,3.92,functional perspective
34.559,3.441,and deciding how we are going to utilize
37.12,3.36,the database
38.0,4.079,and how are we going to design uh the
40.48,5.2,data schema design usually
42.079,5.281,is asked in sort of an environment
45.68,3.76,because in case of a nosql sort of a
47.36,5.199,database then in those case
49.44,4.799,the design is really simple because all
52.559,3.441,you're going to have is let's say a key
54.239,3.681,value sort of design so
56.0,4.239,in this data schema design there will be
57.92,5.36,a lot of things that you are going to
60.239,5.681,learn first is how to keep
63.28,5.199,the design very simple how not to you
65.92,4.08,know over complicate the design just to
68.479,3.68,just you know show that there are a lot
70.0,5.2,of concepts that we are aware of
72.159,5.681,how to ensure that normalization is
75.2,4.559,there is design that you're doing plus
77.84,4.24,also considering the fact
79.759,3.441,that the design need not be very
82.08,3.359,complicated
83.2,3.919,and usually in data schema design try
85.439,4.32,not to go towards scaling
87.119,4.0,because if the interviewer is interested
89.759,3.36,on scaling aspects
91.119,3.201,such as let's say splitting the data or
93.119,3.201,sharding or partitioning
94.32,3.759,etcetera then they will mention about
96.32,2.32,their intentions of asking about
98.079,2.72,sharding
98.64,3.36,so you start with a simple design in
100.799,3.041,terms of a schema
102.0,3.36,and then as in when you know the
103.84,2.08,interview gets completed if there is
105.36,2.0,time
105.92,4.239,or if there is a cross question that
107.36,4.24,comes about the quantity or the quantum
110.159,3.201,of data that you're going to have that
111.6,4.0,is when you know you should
113.36,3.68,switch to concepts like sharding and
115.6,3.199,partitioning etc
117.04,3.759,otherwise just keep focus on the
118.799,3.201,normalizations before normal forms that
120.799,4.481,you might have read
122.0,5.04,and utilize the simple concepts such as
125.28,4.56,primary
127.04,2.8,and complete key foreign
132.08,6.4,hi is that ankit yes ankit speaking
135.92,5.6,hey angkor this is start speaking from
138.48,5.04,xyz consultancy how are you doing today
141.52,4.079,i'm doing good how about you hey thanks
143.52,4.32,for asking i'm also doing good so
145.599,3.28,are you ready for your interview yeah
147.84,4.399,sure
148.879,3.921,okay so uh before we begin why don't you
152.239,5.601,tell me
152.8,5.04,something about your current role
158.4,6.32,okay so uh all i want you to
161.84,4.64,do is design the data schema for one of
164.72,4.64,the problems that we are solving here
166.48,4.64,is that fine yeah sure so we need to do
169.36,3.84,this database design here
171.12,3.759,so uh when we when you said schema
173.2,4.08,design are we going to design data
174.879,5.601,schema for an rdbms or a nosql yeah
177.28,3.679,rdbms here okay so understand it this
180.48,3.92,way
180.959,5.881,we have a product page okay so
184.4,4.479,understand the product page as maybe
186.84,6.119,amazon.com
188.879,7.601,close slash let's say oh shoot
192.959,6.0,okay so what do you have here is
196.48,3.52,a product key which is shared in this
198.959,3.2,case
200.0,4.56,and for every product you're going to
202.159,4.16,have four attributes
204.56,3.039,uh one of them being of course the
206.319,5.041,product name the next
207.599,6.321,is prime data or data will have
211.36,4.32,something like you know the free text
213.92,4.0,sort of thing which will be there
215.68,3.44,there will be an image or they can
217.92,3.599,multiple images of course
219.12,4.8,associated with product and this product
221.519,6.08,will belong to category
223.92,6.64,okay so for category we will have
227.599,4.241,three levels of category and uh for
230.56,4.72,example let's say if it's
231.84,6.16,a shirt that we talked about then uh
235.28,3.36,it will be under clothes then it will be
238.0,4.0,under
238.64,5.92,let's say fashionware and then
242.0,3.76,in the short category so it's like
244.56,3.679,subcategories
245.76,3.039,so clothes will have a fashionware and
248.239,3.601,then
248.799,5.281,assurance next on the
251.84,4.08,product page you'll also be able to see
254.08,5.2,reviews by the other users
255.92,6.24,and every review will contain
259.28,3.52,who or which user has posted this a star
262.16,4.0,rating for
262.8,5.44,all the reviews and a description of the
266.16,5.44,review of course
268.24,5.679,okay so uh i have a question here so
271.6,3.52,does review contains images or maybe
273.919,3.761,videos as well
275.12,3.76,no no let's let's for the time being
277.68,3.76,keep images
278.88,3.12,and videos in terms of review out of the
281.44,3.28,scope
282.0,3.44,and there is one more interesting
284.72,3.759,feature
285.44,3.84,which is the product owner or let's say
288.479,4.321,the seller
289.28,5.6,in this case can reply to every review
292.8,3.76,once and only once and it should be
294.88,4.0,non-editable and
296.56,4.479,apart from this there will be a
298.88,4.879,discussion forum for every product
301.039,3.6,wherein uh sellers and other buyers can
303.759,4.0,have interaction
304.639,4.481,so it's like anybody can reply to anyone
307.759,4.72,else's
309.12,5.28,messages on the discussion related to
312.479,2.641,the product or maybe even not related
314.4,4.0,times
315.12,4.24,so this is what is we are looking to
318.4,4.56,design and
319.36,4.8,uh i'm only looking at rdbms data schema
322.96,3.76,design here
324.16,3.44,so if that works for you or if you have
326.72,2.64,any questions
327.6,3.039,okay so whatever are the points that you
329.36,4.64,have mentioned as part of this
330.639,6.4,this design uh i have noted them now and
334.0,5.36,yeah i'm ready to begin perfect okay so
337.039,3.921,the first category the like the first
339.36,4.8,table that i'm thinking of
340.96,6.0,out of uh like based on the requirements
344.16,3.759,is going to be categories table wherein
346.96,4.079,i will have
347.919,4.321,a primary key which is going to be
351.039,5.841,category id
352.24,8.64,of type uuid and
356.88,10.56,there will be a category name
360.88,9.92,of let's say dark hair
367.44,7.039,of size let's say 200 pretty much it so
370.8,5.6,category also had the grouping right so
374.479,2.321,one category can be sub category for
376.4,3.6,other
376.8,5.519,yep that's correct okay okay so i will
380.0,7.039,also have a parent
382.319,7.361,category parent category id
387.039,4.241,so parent category id here uh will be
389.68,3.44,like so for example if it is a primary
391.28,3.919,category then category id and parent
393.12,4.32,category id is going to be same
395.199,4.401,and if let's say if it is a sub category
397.44,4.56,then
399.6,5.36,parent category id will be the id or
402.0,5.12,category id for the
404.96,3.12,parent category so so it's like whenever
407.12,2.639,you want to retrieve
408.08,4.0,a category you will need to create a
409.759,5.921,self join sort of a structure
412.08,7.36,and that's that's how you can
415.68,7.44,you know create this category table
419.44,4.64,next what i'm trying to do here is i
423.12,4.96,will create a
424.08,7.119,table for product let's call it product
428.08,3.119,it will have a
431.28,6.8,product id of type qid
434.479,6.961,then like you said there will be a key
438.08,4.48,for every product let's keep it back at
441.44,4.0,200
442.56,4.4,so this is going to be so this was the
445.44,3.92,primary key here right
446.96,4.4,so i'm going to like put that in bold so
449.36,4.559,that we remember
451.36,3.92,and the product key here is going to be
453.919,4.481,a unique
455.28,5.759,key here okay and
458.4,3.84,there will be a product name let's say
461.039,4.241,for the simplicity
462.24,6.399,we will have a similar sort of uh
465.28,6.8,structure then let me enter a few rows
468.639,7.601,and then the next is going to be
472.08,6.64,category category which will be there
476.24,4.16,so category is going to be a uuid so
478.72,2.56,this is going to be a foreign key
480.4,3.68,reference
481.28,4.56,so this is this is the foreign key
484.08,4.559,reference which is there
485.84,4.24,and category is there and based on so
488.639,3.761,this is going to be the
490.08,4.0,like bottom most category the child
492.4,4.479,category and based on that
494.08,4.16,like parent category can be retrieved
496.879,4.081,from the categories table
498.24,3.84,does that make sense yep okay then there
500.96,3.44,will be
502.08,3.679,product data which you said is going to
504.4,4.639,be like a free text
505.759,6.561,so okay so if when you say free text
509.039,4.081,uh did you mean like uh unlimited size
512.32,2.399,of text
513.12,3.359,look considering the time constraint
514.719,2.961,let's just keep that out of scope let's
516.479,4.56,assume that there is
517.68,4.88,like a 255 characters limit okay okay
521.039,4.081,okay so in that case you know you can
522.56,5.279,keep it like a 255 character where
525.12,4.0,because because we said that we can keep
527.839,2.801,it within the size
529.12,3.04,otherwise i would have created a
530.64,2.319,different table all together for this
532.16,4.08,and you know
532.959,6.0,provided with some of the category like
536.24,3.76,this product data id and utilize
538.959,3.041,multiple rows for
540.0,3.04,storing this or maybe use something like
542.0,3.2,a blob and
543.04,4.16,uh there will be a shop id also
545.2,4.88,associated with every product
547.2,3.28,so shop id again will be uid uh shop
550.08,3.439,means
550.48,5.039,like you said a like amazon.com
553.519,3.76,shop slash product right so this is
555.519,5.121,where i am going to you know keep
557.279,4.24,this shop information next what i'm
560.64,5.04,going to create
561.519,6.961,is just give me that sorry is
565.68,4.24,like next i'm going to create a table
568.48,5.039,for images
569.92,7.52,it will have a image id
573.519,7.44,here it will also have a
577.44,5.2,product id and let's say we are going to
580.959,5.281,utilize some of the
582.64,6.199,one of the uh cloud storage so s3 url
586.24,4.4,can be here so again this will be
588.839,5.321,available
590.64,6.56,so product key here again will be a
594.16,6.239,reference to the
597.2,5.68,to the product id which we have okay
600.399,5.68,and this is image id which is the
602.88,3.199,primary key for this table
606.48,3.52,and uh for users do you want uh like
609.36,2.479,haha
610.0,3.12,because you did not explain how the
611.839,2.801,users will look look
613.12,3.2,considering the time constraints okay
614.64,3.6,just make that out of scope okay if it
616.32,4.079,is out of scope let's say
618.24,3.039,we will will not get into the user
620.399,2.56,details
621.279,3.201,next table that i'm going to create is
622.959,4.401,going to be for
624.48,4.64,reviews so there will be a review id
627.36,4.159,which will be uid primary key
629.12,3.12,then there will be a product id which
631.519,3.201,will be
632.24,3.839,again a uuid and this is going to be a
634.72,4.799,foreign key reference
636.079,4.32,so review id will again be connected
639.519,3.681,with the
640.399,3.201,with the product id then uh for review
643.2,2.639,next
643.6,4.4,is going to be a user id uh because i
645.839,4.721,need to know which user has
648.0,3.68,posted this review so user id again will
650.56,3.44,be uid and
651.68,4.0,like from the user's reference or
654.0,4.8,primary key for user will be there
655.68,6.64,then so there will be one rating
658.8,6.0,so star star can be integer star can be
662.32,3.44,can that be in let's say 1.5 star or 2.5
664.8,2.4,nope nope
665.76,3.28,okay okay so in that case we can you
667.2,5.12,know keep it simple integer
669.04,3.6,and star rating uh description we will
672.32,3.84,have
672.64,8.0,aware cash let's say 255
676.16,6.32,then i will have a reply id
680.64,3.36,this will be helpful to create the table
682.48,2.4,structure so because review can have a
684.0,3.36,reply also
684.88,3.519,and like you said reply can only come
687.36,4.08,from
688.399,3.521,the buyer so in terms of i like id will
691.44,2.24,not be
691.92,3.28,needed here it will be just the reply
693.68,3.279,text so
695.2,3.36,what we can do here is so there are two
696.959,4.32,approaches that i can follow here
698.56,3.76,one is if i can have a reply id or let's
701.279,2.481,say is reply
702.32,2.72,boolean so that i can know what are all
703.76,2.24,the reviews which are pending to be
705.04,4.08,replied from the
706.0,5.36,buyer or the owner uh
709.12,4.24,but i think if it is null or empty then
711.36,5.36,that is also i'm not taking any replied
713.36,6.4,so reviews pretty much is done here then
716.72,7.76,next that i'm going to have is maybe
719.76,4.72,another table for discussions
726.24,5.36,so we will have a discussion
730.0,3.36,id which is going to be the primary key
731.6,5.12,for this then i will have
733.36,7.2,a product id which is going to be uid
736.72,7.28,the foreign key reference and
740.56,5.04,on the discussion like you had
744.0,4.24,user has posted this this is going to be
745.6,7.2,a user id and
748.24,8.0,there is one more thing so reply to
752.8,3.44,that will also be a uuid
756.399,4.0,because we need to know what is uh like
759.04,2.72,for example if let's say
760.399,3.12,this is starting of discussion then
761.76,2.96,discussion id and reply to will be same
763.519,2.56,and then let's say if there is a reply
764.72,3.04,coming to let's say message one then
766.079,2.88,reply two will have one and then a
767.76,3.199,discussion id
768.959,3.601,like whatever is the id of that response
770.959,4.641,and
772.56,3.839,let's have discussion text like what is
775.6,4.08,the
776.399,4.641,uh discussion like what does this
779.68,3.839,discussion have
781.04,3.039,so this completes discussion let me see
783.519,2.961,again
784.079,3.76,if i have you know covered everything or
786.48,4.08,not so you said
787.839,4.321,uh let me go through the problem
790.56,4.56,statement again
792.16,5.119,so you said a product page will be there
795.12,5.519,so you will have a product key
797.279,6.721,product will have image and
800.639,5.601,a name product data the text
804.0,3.36,and a category so category can be three
806.24,2.64,level so category
807.36,3.12,three levels can be retrieved using this
808.88,5.28,category id okay
810.48,6.32,then uh review review is
814.16,4.479,post review by user it can have a star
816.8,2.479,rating this is fine a description okay
818.639,4.32,and
819.279,5.68,if a reply has been sent okay so reply
822.959,3.841,directly contains the text from the
824.959,4.401,buyer because only buyer can reply right
826.8,4.32,okay and for the forum discussion uh
829.36,3.039,discussion id product id because you
831.12,3.2,want to know what product
832.399,3.841,uh this discussion is all about post by
834.32,4.879,user which user has posted this reply
836.24,4.48,to so reply to will help us decide
839.199,2.88,whether this is a reply to an existing
840.72,2.239,discussion or is it a new discussion
842.079,3.76,which is starting
842.959,4.081,and there will be a discussion text
845.839,2.56,which is
847.04,3.359,not going to be uh dated so this is
848.399,4.961,going to be a valcash
850.399,4.24,my bad i think my system is hanging a
853.36,4.0,bit just give me a minute
854.639,3.681,yep yeah so pretty much it wasn't this
857.36,3.44,simple guys
858.32,3.44,so i hope you like the interview uh just
860.8,2.8,for your reference
861.76,3.84,um just wanted to you know make this
863.6,3.28,disclaimer that both of the roles are
865.6,2.96,played by me itself
866.88,3.6,uh there was no second interview which
868.56,4.24,was involved but however in case
870.48,3.359,if you want to you know appear in the
872.8,3.2,mock interview
873.839,4.081,or which we are going to conduct which
876.0,4.959,is going to be around one interview per
877.92,4.0,week then please let us know in the
880.959,3.12,comment section
881.92,3.279,we will get back to you and we can have
884.079,3.601,a mock interview
885.199,3.841,there are a lot of you know uh companies
887.68,2.399,there are a lot of startups who are
889.04,3.2,charging for this
890.079,3.841,interview sort of series our intention
892.24,4.48,is only to you know
893.92,4.719,teach everyone and while we are you know
896.72,3.359,exchanging this knowledge while there is
898.639,2.0,a knowledge transition we are also
900.079,2.161,gaining
900.639,3.2,some part of it so this is the only
902.24,3.36,intention that we have in case
903.839,3.921,if you are interested in a mock
905.6,4.479,interview in case if you want to
907.76,4.8,see how are you going to perform in such
910.079,2.481,an interview
916.68,3.1,[Music]
922.61,5.07,[Music]
925.199,4.241,broaden our reach so that everyone who
927.68,3.76,wants to understand system design
929.44,3.04,everyone who wants to understand large
931.44,3.92,scale systems
932.48,3.919,are able to get this resource so keep
935.36,2.88,watching
936.399,4.0,keep sharing and of course hit the
938.24,4.56,subscribe button and say design
940.399,2.401,strong
